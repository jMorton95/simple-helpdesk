{% extends "generic_components/base_content_modal.html" %}
{% load static %}

{% block modal_id %}ticket_modal{% endblock %}

{% block modal_title %}
  {% if ticket %} Edit {{ticket.name}} {% else %} Create new ticket? {% endif %} 
{% endblock %}

{% block modal_content %}
  <script defer src="{% static "js/ticket_form.js" %}"></script>
 
  <form method="POST"
      action="{% if ticket  %}
                {% url 'ticket_edit' project.id ticket.id%}
              {% else %}'
                {%url 'ticket_create' project.id %}
              {% endif %}">
    {% csrf_token %}
    {{ ticket_form.as_p }}
    {% include "generic_components/form_errors.html" %}
    <button type="submit" class="btn btn-primary">{% if ticket %} Save {{ticket.name}} {% else %}Create Ticket {% endif %}</button>
  </form>
 
{% endblock modal_content %}